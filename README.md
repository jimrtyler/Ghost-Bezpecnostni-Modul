# üëª Ghost Bezpeƒçnostn√≠ Modul
**PowerShell-zalo≈æen√Ω n√°stroj pro zpev≈àov√°n√≠ bezpeƒçnosti Windows a Azure**

> **Proaktivn√≠ zpev≈àov√°n√≠ bezpeƒçnosti pro Windows koncov√© body a Azure prost≈ôed√≠.** Ghost poskytuje PowerShell-zalo≈æen√© funkce zpev≈àov√°n√≠, kter√© mohou pomoci sn√≠≈æit bƒõ≈æn√© vektory √∫tok≈Ø zak√°z√°n√≠m nepot≈ôebn√Ωch slu≈æeb a protokol≈Ø.

## ‚ö†Ô∏è D≈Øle≈æit√° prohl√°≈°en√≠ o vylouƒçen√≠

**TESTOV√ÅN√ç JE VY≈ΩADOV√ÅNO**: Ghost v≈ædy nejprve testujte v ne-produkƒçn√≠ch prost≈ôed√≠ch. Zak√°z√°n√≠ slu≈æeb m≈Ø≈æe ovlivnit legitimn√≠ obchodn√≠ funkce.

**≈Ω√ÅDN√â Z√ÅRUKY**: Aƒçkoli Ghost c√≠l√≠ na bƒõ≈æn√© vektory √∫tok≈Ø, ≈æ√°dn√Ω bezpeƒçnostn√≠ n√°stroj nem≈Ø≈æe zabr√°nit v≈°em √∫tok≈Øm. Toto je jedna komponenta komplexn√≠ bezpeƒçnostn√≠ strategie.

**OPERAƒåN√ç DOPAD**: Nƒõkter√© funkce mohou ovlivnit funkcionalitu syst√©mu. P≈ôed nasazen√≠m peƒçlivƒõ zkontrolujte ka≈æd√© nastaven√≠.

**PROFESION√ÅLN√ç HODNOCEN√ç**: Pro produkƒçn√≠ prost≈ôed√≠ se poraƒète s bezpeƒçnostn√≠mi odborn√≠ky, abyste zajistili, ≈æe nastaven√≠ odpov√≠daj√≠ pot≈ôeb√°m va≈°√≠ organizace.

## üìä Bezpeƒçnostn√≠ krajina

≈†kody od ransomware dos√°hly **57 miliard dolar≈Ø v roce 2025**, p≈ôiƒçem≈æ v√Ωzkumy ukazuj√≠, ≈æe mnoho √∫spƒõ≈°n√Ωch √∫tok≈Ø vyu≈æ√≠v√° z√°kladn√≠ Windows slu≈æby a chybn√© konfigurace. Bƒõ≈æn√© vektory √∫tok≈Ø zahrnuj√≠:

- **90% ransomware incident≈Ø** zahrnuje zneu≈æit√≠ RDP
- **SMBv1 zranitelnosti** umo≈ænily √∫toky jako WannaCry a NotPetya
- **Makra dokument≈Ø** z≈Øst√°vaj√≠ prim√°rn√≠ metodou doruƒçov√°n√≠ malware
- **USB-zalo≈æen√© √∫toky** nad√°le c√≠l√≠ na vzduchem izolovan√© s√≠tƒõ
- **Zneu≈æ√≠v√°n√≠ PowerShell** se v√Ωraznƒõ zv√Ω≈°ilo v posledn√≠ch letech

## üõ°Ô∏è Ghost bezpeƒçnostn√≠ funkce

Ghost poskytuje **16 funkc√≠ zpev≈àov√°n√≠ Windows** plus **Azure bezpeƒçnostn√≠ integrace**:

### Zpev≈àov√°n√≠ Windows koncov√Ωch bod≈Ø

| Funkce | √öƒçel | √övahy |
|--------|------|-------|
| `Set-RDP` | Spravuje p≈ô√≠stup ke vzd√°len√© plo≈°e | M≈Ø≈æe ovlivnit vzd√°lenou spr√°vu |
| `Set-SMBv1` | ≈ò√≠d√≠ zastaral√Ω SMB protokol | Vy≈æadov√°n pro velmi star√© syst√©my |
| `Set-AutoRun` | ≈ò√≠d√≠ AutoPlay/AutoRun | M≈Ø≈æe ovlivnit pohodl√≠ u≈æivatele |
| `Set-USBStorage` | Omezuje USB √∫lo≈æn√° za≈ô√≠zen√≠ | M≈Ø≈æe ovlivnit legitimn√≠ pou≈æit√≠ USB |
| `Set-Macros` | ≈ò√≠d√≠ spou≈°tƒõn√≠ Office maker | M≈Ø≈æe ovlivnit dokumenty s povolen√Ωmi makry |
| `Set-PSRemoting` | Spravuje PowerShell vzd√°len√© p≈ôipojen√≠ | M≈Ø≈æe ovlivnit vzd√°lenou spr√°vu |
| `Set-WinRM` | ≈ò√≠d√≠ Windows Remote Management | M≈Ø≈æe ovlivnit vzd√°lenou spr√°vu |
| `Set-LLMNR` | Spravuje protokol rozli≈°ov√°n√≠ jmen | Obvykle bezpeƒçn√© k zak√°z√°n√≠ |
| `Set-NetBIOS` | ≈ò√≠d√≠ NetBIOS p≈ôes TCP/IP | M≈Ø≈æe ovlivnit zastaral√© aplikace |
| `Set-AdminShares` | Spravuje administrativn√≠ sd√≠len√≠ | M≈Ø≈æe ovlivnit vzd√°len√Ω p≈ô√≠stup k soubor≈Øm |
| `Set-Telemetry` | ≈ò√≠d√≠ sbƒõr dat | M≈Ø≈æe ovlivnit diagnostick√© schopnosti |
| `Set-GuestAccount` | Spravuje hostsk√Ω √∫ƒçet | Obvykle bezpeƒçn√© k zak√°z√°n√≠ |
| `Set-ICMP` | ≈ò√≠d√≠ ping odpovƒõdi | M≈Ø≈æe ovlivnit s√≠≈•ovou diagnostiku |
| `Set-RemoteAssistance` | Spravuje vzd√°lenou pomoc | M≈Ø≈æe ovlivnit operace helpdesku |
| `Set-NetworkDiscovery` | ≈ò√≠d√≠ s√≠≈•ov√© objevov√°n√≠ | M≈Ø≈æe ovlivnit proch√°zen√≠ s√≠tƒõ |
| `Set-Firewall` | Spravuje Windows Firewall | Kritick√© pro s√≠≈•ovou bezpeƒçnost |

### Azure Cloud bezpeƒçnost

| Funkce | √öƒçel | Po≈æadavky |
|--------|------|-----------|
| `Set-AzureSecurityDefaults` | Povoluje z√°kladn√≠ Azure AD bezpeƒçnost | Microsoft Graph opr√°vnƒõn√≠ |
| `Set-AzureConditionalAccess` | Konfiguruje p≈ô√≠stupov√© politiky | Azure AD P1/P2 licencov√°n√≠ |
| `Set-AzurePrivilegedUsers` | Audituje privilegovan√© √∫ƒçty | Global Admin opr√°vnƒõn√≠ |

### Mo≈ænosti podnikov√©ho nasazen√≠

| Metoda | P≈ô√≠pad pou≈æit√≠ | Po≈æadavky |
|--------|----------------|-----------|
| **P≈ô√≠m√© spu≈°tƒõn√≠** | Testov√°n√≠, mal√° prost≈ôed√≠ | Lok√°ln√≠ admin pr√°va |
| **Group Policy** | Dom√©nov√° prost≈ôed√≠ | Domain admin, GP spr√°va |
| **Microsoft Intune** | Cloud-spravovan√° za≈ô√≠zen√≠ | Intune licencov√°n√≠, Graph API |

## üöÄ Rychl√Ω start

### Bezpeƒçnostn√≠ hodnocen√≠
```powershell
# Naƒçtƒõte Ghost modul
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')

# Zkontrolujte souƒçasnou bezpeƒçnostn√≠ pozici
Get-Ghost
```

### Z√°kladn√≠ zpev≈àov√°n√≠ (nejprve testujte)
```powershell
# Z√°kladn√≠ zpev≈àov√°n√≠ - nejprve testujte v laboratorn√≠m prost≈ôed√≠
Set-Ghost -SMBv1 -AutoRun -Macros

# Zkontrolujte zmƒõny
Get-Ghost
```

### Podnikov√© nasazen√≠
```powershell
# Group Policy nasazen√≠ (dom√©nov√° prost≈ôed√≠)
Set-Ghost -SMBv1 -AutoRun -GroupPolicy

# Intune nasazen√≠ (cloud-spravovan√° za≈ô√≠zen√≠)
Set-Ghost -SMBv1 -RDP -USBStorage -Intune
```

## üìã Metody instalace

### Mo≈ænost 1: P≈ô√≠m√© sta≈æen√≠ (testov√°n√≠)
```powershell
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')
```

### Mo≈ænost 2: Instalace modulu
```powershell
# Instalujte z PowerShell Gallery (kdy≈æ bude k dispozici)
Install-Module Ghost -Scope CurrentUser
Import-Module Ghost
```

### Mo≈ænost 3: Podnikov√© nasazen√≠
```powershell
# Zkop√≠rujte do s√≠≈•ov√©ho um√≠stƒõn√≠ pro Group Policy nasazen√≠
# Nakonfigurujte Intune PowerShell skripty pro cloud nasazen√≠
```

## üíº P≈ô√≠klady p≈ô√≠pad≈Ø pou≈æit√≠

### Mal√Ω podnik
```powershell
# Z√°kladn√≠ ochrana s minim√°ln√≠m dopadem
Set-Ghost -SMBv1 -AutoRun -Macros -ICMP
```

### Zdravotnick√© prost≈ôed√≠
```powershell
# HIPAA-zamƒõ≈ôen√© zpev≈àov√°n√≠
Set-Ghost -SMBv1 -RDP -USBStorage -AdminShares -Telemetry
```

### Finanƒçn√≠ slu≈æby
```powershell
# Vysoce bezpeƒçnostn√≠ konfigurace
Set-Ghost -RDP -SMBv1 -AutoRun -USBStorage -Macros -PSRemoting -AdminShares
```

### Cloud-First organizace
```powershell
# Intune-spravovan√© nasazen√≠
Connect-IntuneGhost -Interactive
Set-Ghost -SMBv1 -RDP -AutoRun -Macros -Intune
```

## üîç Podrobnosti funkc√≠

### Z√°kladn√≠ funkce zpev≈àov√°n√≠

#### S√≠≈•ov√© slu≈æby
- **RDP**: Blokuje p≈ô√≠stup ke vzd√°len√© plo≈°e nebo randomizuje port
- **SMBv1**: Zak√°≈æe zastaral√Ω protokol sd√≠len√≠ soubor≈Ø
- **ICMP**: Br√°n√≠ ping odpovƒõd√≠m pro pr≈Øzkum
- **LLMNR/NetBIOS**: Blokuje zastaral√© protokoly rozli≈°ov√°n√≠ jmen

#### Bezpeƒçnost aplikac√≠
- **Makra**: Zak√°≈æe spou≈°tƒõn√≠ maker v Office aplikac√≠ch
- **AutoRun**: Br√°n√≠ automatick√©mu spu≈°tƒõn√≠ z vymƒõniteln√Ωch m√©di√≠

#### Vzd√°len√° spr√°va
- **PSRemoting**: Zak√°≈æe PowerShell vzd√°len√© relace
- **WinRM**: Zastav√≠ Windows Remote Management
- **Remote Assistance**: Blokuje p≈ôipojen√≠ vzd√°len√© pomoci

#### ≈ò√≠zen√≠ p≈ô√≠stupu
- **Admin Shares**: Zak√°≈æe C$, ADMIN$ sd√≠len√≠
- **Guest Account**: Zak√°≈æe p≈ô√≠stup hostsk√©ho √∫ƒçtu
- **USB Storage**: Omezuje pou≈æit√≠ USB za≈ô√≠zen√≠

### Azure integrace
```powershell
# P≈ôipojte se k Azure tenant
Connect-AzureGhost -Interactive

# Povolte v√Ωchoz√≠ nastaven√≠ bezpeƒçnosti
Set-AzureSecurityDefaults -Enable

# Nakonfigurujte podm√≠nƒõn√Ω p≈ô√≠stup
Set-AzureConditionalAccess -BlockLegacyAuth -RequireMFA

# Auditujte privilegovan√© u≈æivatele
Set-AzurePrivilegedUsers -AuditOnly
```

### Intune integrace (nov√© ve v2)
```powershell
# P≈ôipojte se k Intune
Connect-IntuneGhost -Interactive

# Nasaƒète prost≈ôednictv√≠m Intune politik
Set-IntuneGhost -Settings @{
    RDP = $true
    SMBv1 = $true
    USBStorage = $true
    Macros = $true
}
```

## ‚ö†Ô∏è D≈Øle≈æit√© √∫vahy

### Po≈æadavky na testov√°n√≠
- **Laboratorn√≠ prost≈ôed√≠**: Nejprve testujte v≈°echna nastaven√≠ v izolovan√©m prost≈ôed√≠
- **Postupn√© nasazen√≠**: Postupnƒõ nasazujte pro identifikaci probl√©m≈Ø
- **Pl√°n n√°vratu**: Ujistƒõte se, ≈æe m≈Ø≈æete vr√°tit zmƒõny v p≈ô√≠padƒõ pot≈ôeby
- **Dokumentace**: Zaznamenejte, kter√° nastaven√≠ funguj√≠ pro va≈°e prost≈ôed√≠

### Potenci√°ln√≠ dopad
- **Produktivita u≈æivatele**: Nƒõkter√° nastaven√≠ mohou ovlivnit denn√≠ pracovn√≠ toky
- **Zastaral√© aplikace**: Star≈°√≠ syst√©my mohou vy≈æadovat urƒçit√© protokoly
- **Vzd√°len√Ω p≈ô√≠stup**: Zva≈æte dopad na legitimn√≠ vzd√°lenou spr√°vu
- **Obchodn√≠ procesy**: Ovƒõ≈ôte, ≈æe nastaven√≠ neporu≈°√≠ kritick√© funkce

### Bezpeƒçnostn√≠ omezen√≠
- **Obr√°na do hloubky**: Ghost je jedna vrstva bezpeƒçnosti, ne kompletn√≠ ≈ôe≈°en√≠
- **Kontinu√°ln√≠ spr√°va**: Bezpeƒçnost vy≈æaduje kontinu√°ln√≠ monitorov√°n√≠ a aktualizace
- **U≈æivatelsk√© ≈°kolen√≠**: Technick√© kontroly mus√≠ b√Ωt sp√°rov√°ny s bezpeƒçnostn√≠m povƒõdom√≠m
- **Evoluce hrozeb**: Nov√© metody √∫tok≈Ø mohou obej√≠t souƒçasnou ochranu

## üéØ P≈ô√≠klady sc√©n√°≈ô≈Ø √∫tok≈Ø

Zat√≠mco Ghost c√≠l√≠ na bƒõ≈æn√© vektory √∫tok≈Ø, specifick√° prevence z√°vis√≠ na spr√°vn√© implementaci a testov√°n√≠:

### WannaCry-styl √∫toky
- **Zm√≠rnƒõn√≠**: `Set-Ghost -SMBv1` zak√°≈æe zraniteln√Ω protokol
- **√övaha**: Ujistƒõte se, ≈æe ≈æ√°dn√Ω zastaral√Ω syst√©m nevy≈æaduje SMBv1

### RDP-zalo≈æen√Ω ransomware
- **Zm√≠rnƒõn√≠**: `Set-Ghost -RDP` blokuje p≈ô√≠stup ke vzd√°len√© plo≈°e
- **√övaha**: M≈Ø≈æe vy≈æadovat alternativn√≠ metody vzd√°len√©ho p≈ô√≠stupu

### Malware zalo≈æen√Ω na dokumentech
- **Zm√≠rnƒõn√≠**: `Set-Ghost -Macros` zak√°≈æe spou≈°tƒõn√≠ maker
- **√övaha**: M≈Ø≈æe ovlivnit legitimn√≠ dokumenty s povolen√Ωmi makry

### USB-doruƒçen√© hrozby
- **Zm√≠rnƒõn√≠**: `Set-Ghost -USBStorage -AutoRun` omezuje USB funkcionalitu
- **√övaha**: M≈Ø≈æe ovlivnit legitimn√≠ pou≈æit√≠ USB za≈ô√≠zen√≠

## üè¢ Podnikov√© funkce

### Podpora Group Policy
```powershell
# Aplikujte nastaven√≠ prost≈ôednictv√≠m Group Policy registru
Set-Ghost -SMBv1 -RDP -AutoRun -GroupPolicy

# Nastaven√≠ se aplikuj√≠ dom√©novƒõ po GP aktualizaci
gpupdate /force
```

### Microsoft Intune integrace
```powershell
# Vytvo≈ôte Intune politiky pro Ghost nastaven√≠
Set-IntuneGhost -Settings $GhostSettings -Interactive

# Politiky se automaticky nasazuj√≠ na spravovan√° za≈ô√≠zen√≠
```

### Hl√°≈°en√≠ souladu
```powershell
# Generujte hl√°≈°en√≠ bezpeƒçnostn√≠ho hodnocen√≠
Get-Ghost | Export-Csv -Path "SecurityAudit-$(Get-Date -Format 'yyyy-MM-dd').csv"

# Azure hl√°≈°en√≠ bezpeƒçnostn√≠ pozice
Get-AzureGhost | Out-File "AzureSecurityReport.txt"
```

## üìö Nejlep≈°√≠ praktiky

### P≈ôed-nasazen√≠
1. **Dokumentujte souƒçasn√Ω stav**: Spus≈•te `Get-Ghost` p≈ôed zmƒõnami
2. **D≈Økladnƒõ testujte**: Validujte v ne-produkƒçn√≠m prost≈ôed√≠
3. **Pl√°nujte n√°vrat**: Vƒõdci, jak vr√°tit ka≈æd√© nastaven√≠
4. **P≈ôezkoum√°n√≠ z√∫ƒçastnƒõn√Ωch stran**: Ujistƒõte se, ≈æe obchodn√≠ jednotky schvaluj√≠ zmƒõny

### Bƒõhem nasazen√≠
1. **Postupn√Ω p≈ô√≠stup**: Nasazujte nejprve do pilotn√≠ch skupin
2. **Monitorujte dopad**: Sledujte u≈æivatelsk√© st√≠≈ænosti nebo syst√©mov√© probl√©my
3. **Dokumentujte probl√©my**: Zaznamenejte v≈°echny probl√©my pro budouc√≠ reference
4. **Komunikujte zmƒõny**: Informujte u≈æivatele o bezpeƒçnostn√≠ch vylep≈°en√≠ch

### Po-nasazen√≠
1. **Pravideln√© hodnocen√≠**: Periodicky spou≈°tƒõjte `Get-Ghost` pro ovƒõ≈ôen√≠ nastaven√≠
2. **Aktualizujte dokumentaci**: Udr≈æujte bezpeƒçnostn√≠ konfigurace aktu√°ln√≠
3. **P≈ôezkoumejte efektivnost**: Monitorujte bezpeƒçnostn√≠ incidenty
4. **Kontinu√°ln√≠ zlep≈°ov√°n√≠**: Upravte nastaven√≠ na z√°kladƒõ hrozby krajiny

## üîß ≈òe≈°en√≠ probl√©m≈Ø

### Bƒõ≈æn√© probl√©my
- **Chyby opr√°vnƒõn√≠**: Ujistƒõte se o zv√Ω≈°en√© PowerShell relaci
- **Z√°vislosti slu≈æeb**: Nƒõkter√© slu≈æby mohou m√≠t z√°vislosti
- **Kompatibilita aplikac√≠**: Testujte s obchodn√≠mi aplikacemi
- **S√≠≈•ov√© p≈ôipojen√≠**: Ovƒõ≈ôte, ≈æe vzd√°len√Ω p≈ô√≠stup st√°le funguje

### Mo≈ænosti obnovy
```powershell
# Znovu povolte specifick√© slu≈æby v p≈ô√≠padƒõ pot≈ôeby
Set-RDP -Enable
Set-SMBv1 -Enable
Set-AutoRun -Enable
Set-Macros -Enable
```

## üë®‚Äçüíª O autorovi

**Jim Tyler** - Microsoft MVP pro PowerShell
- **YouTube**: [@PowerShellEngineer](https://youtube.com/@PowerShellEngineer) (10 000+ odbƒõratel≈Ø)
- **Newsletter**: [PowerShell.News](https://powershell.news) - T√Ωdenn√≠ bezpeƒçnostn√≠ inteligence
- **Autor**: "PowerShell for Systems Engineers"
- **Zku≈°enosti**: Desetilet√≠ PowerShell automatizace a Windows bezpeƒçnosti

## üìÑ Licence a prohl√°≈°en√≠ o vylouƒçen√≠

### MIT licence
Ghost je poskytov√°n pod MIT licenc√≠ pro bezplatn√© pou≈æit√≠, √∫pravy a distribuci.

### Bezpeƒçnostn√≠ prohl√°≈°en√≠ o vylouƒçen√≠
- **≈Ω√°dn√° z√°ruka**: Ghost je poskytov√°n "jak je" bez z√°ruky jak√©hokoli druhu
- **Testov√°n√≠ vy≈æadov√°no**: V≈ædy nejprve testujte v ne-produkƒçn√≠ch prost≈ôed√≠ch
- **Profesion√°ln√≠ veden√≠**: Poraƒète se s bezpeƒçnostn√≠mi odborn√≠ky pro produkƒçn√≠ nasazen√≠
- **Operaƒçn√≠ dopad**: Auto≈ôi nejsou odpovƒõdn√≠ za ≈æ√°dn√° operaƒçn√≠ p≈ôeru≈°en√≠
- **Komplexn√≠ bezpeƒçnost**: Ghost je jedna komponenta kompletn√≠ bezpeƒçnostn√≠ strategie

### Podpora
- **GitHub probl√©my**: [Nahlaste chyby nebo po≈æ√°dejte o funkce](https://github.com/jimrtyler/Ghost/issues)
- **Dokumentace**: Pou≈æijte `Get-Help <function> -Full` pro podrobnou n√°povƒõdu
- **Komunita**: PowerShell a bezpeƒçnostn√≠ komunitn√≠ f√≥ra

---

**üîê Pos√≠lejte svou bezpeƒçnostn√≠ pozici s Ghost - ale v≈ædy nejprve testujte.**

```powershell
# Zaƒçnƒõte s hodnocen√≠m, ne s p≈ôedpoklady
Get-Ghost
```

**‚≠ê Oznaƒçte tento repozit√°≈ô hvƒõzdiƒçkou, pokud Ghost pom√°h√° zlep≈°it va≈°i bezpeƒçnostn√≠ pozici!**